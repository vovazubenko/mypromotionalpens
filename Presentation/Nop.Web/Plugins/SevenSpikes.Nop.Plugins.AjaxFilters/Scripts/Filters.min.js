FiltersManager=function(){this.isOnSearchPage=$(".nopAjaxFilters7Spikes").attr("data-isonsearchpage"),this.keyword=$(".nopAjaxFilters7Spikes").attr("data-searchkeyword"),this.searchCategoryId=$(".nopAjaxFilters7Spikes").attr("data-searchcategoryid"),this.searchManufacturerId=$(".nopAjaxFilters7Spikes").attr("data-searchmanufacturerid"),this.searchVendorId=$(".nopAjaxFilters7Spikes").attr("data-searchvendorid"),this.priceFrom=$(".nopAjaxFilters7Spikes").attr("data-searchpricefrom"),this.priceTo=$(".nopAjaxFilters7Spikes").attr("data-searchpriceto"),this.includeSubcategories=$(".nopAjaxFilters7Spikes").attr("data-searchincludesubcategories"),this.searchInProductDescriptions=$(".nopAjaxFilters7Spikes").attr("data-searchinproductdescriptions"),this.advancedSearch=$(".nopAjaxFilters7Spikes").attr("data-searchadvancedsearch"),this.categoryId=$(".nopAjaxFilters7Spikes").attr("data-categoryId"),this.manufacturerId=$(".nopAjaxFilters7Spikes").attr("data-manufacturerId"),this.vendorId=$(".nopAjaxFilters7Spikes").attr("data-vendorId"),this.getFilteredProductsUrl=$(".nopAjaxFilters7Spikes").attr("data-getFilteredProductsUrl"),this.filtersUIMode=$(".nopAjaxFilters7Spikes").attr("data-filtersUIMode"),this.filtersUIModeEnum={userCheckboxes:"usecheckboxes",useDropDowns:"usedropdowns"},this.selectedFilterGroupElement=void 0,this.selectedFilterOptionElement=void 0,this.isProductRefreshTriggeredByScroll=!1},function(a,b,c){function e(){var b=a(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase();return"true"===b}function f(b,c){var d=a(b);d.each(function(){var b=a(this);b.is("select")&&b.val()!==c&&(b.val(c).attr("valueChangedByScript","true"),b.change())})}function g(b){if(a(b).length>0)return b;var c=b.slice(1);return b.startsWith("#")?"."+c:b.startsWith(".")?"#"+c:b}function h(){var b=a(".nopAjaxFilters7Spikes").attr("data-viewOptionsDropDownSelector")||".products-viewmode, .viewmode-icon";return g(b)}function j(b){b.hasClass("closed")===!0?b.removeClass("closed"):b.addClass("closed"),b.parent().siblings(".filtersGroupPanel").slideToggle("slow",function(){a(this).css("overflow","")})}function k(){var b=a(".nopAjaxFilters7Spikes").first(),c=a(".block.filter-block.selected-options").first(),d=b.attr("data-selectedOptionsTargetSelector")||".nopAjaxFilters7Spikes .filtersPanel:first",e="usedropdowns"===b.attr("data-filtersuimode");switch(b.attr("data-selectedOptionsTargetAction")){case"insertBefore":c.insertBefore(d);break;case"insertAfter":c.insertAfter(d);break;case"appendTo":c.appendTo(d);break;default:c.prependTo(d)}var f=c.find(".selected-options-list");f.empty(),c.find("a.toggleControl").off("click").on("click",function(){j(a(this))});var g=b.find(".priceRangeFilterPanel7Spikes");if(g.length>0){var h=g.find("#slider"),i=h.attr("data-sliderminvalue"),k=h.attr("data-slidermaxvalue"),l=a(".priceRangeCurrentPricesPanel .currentMinPrice").text(),m=a(".priceRangeCurrentPricesPanel .currentMaxPrice").text();if(h.length>0&&(i!==l||k!==m)){var n=a('<span class="option">'+l+" - "+m+"</span>");n.anchorCustomClick(g.find(".clearPriceRangeFilter"));var o=g.find(".toggleControl").text(),p=a('<li class="price-range-selected-ranges"><label>'+o+":</label></li>");p.append(n),f.append(p)}}b.find(".filter-block").each(function(){var b=!1,c=a(this),d=a("<li><label>"+c.children(".title").children("a.toggleControl").first().text()+":</label></li>");c.find("[data-option-ids][selected], [data-option-ids][checked]").each(function(){var c=a(this),f=c.text()||c.next("label").text(),g=a('<span class="option">'+f+"</span>");b=!0,e?g.anchorCustomClick(c.closest(".filtersGroupPanel").siblings(".title").children(".clearFilterOptions")):g.anchorCustomClick(c),d.append(g)}),b&&f.append(d)}),f.children().length>0?c.show():(c.hide(),b.prepend(c))}function l(b,c){if(null!=b||(b=parseInt(a(".productsPageSizeDropDown .toplevel p").text()),!isNaN(b))){c=parseInt(c),b>c&&(b=c);var d=a(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector")||".product-viewmode",e=a(d);a(".returned-products-filters-panel").children(".allProductsReturned").text(c);var f=a(".number-of-returned-products.sample-element").first();a(".number-of-returned-products").not(f).remove();var g=f.clone();g.removeClass("sample-element"),g.children(".productsPerPage").text(b),g.children(".allProductsReturned").text(c),0===e.length?a(".product-selectors").append(g):e.after(g),g.css("display","").addClass("active")}}function m(){var b=h(),c=a(b).filter(".selected");return c.length>0?c.attr("data-dropdownoptionvalue"):a(".viewOptionsDropDown").attr("data-DropDownOptionsSelectedValue")||a(".viewOptionsDropDown").val()||null}function n(d,f,g,h,i,j,n){if(!c.waitForAjaxRequest&&"#/noFilterApplied"!==h){d&&f&&e()&&a.address.history(!0),this.isProductRefreshTriggeredByScroll=n||!1,void 0==h?h="":j=!0,this.setSpecificationFilterSelection(d,f);var o=this.getSpecificationFiltersModel(),p=this.getAttributeFiltersModel(),q=this.getManufacturerFiltersModel(),r=this.getVendorFiltersModel(),s=this.getOnSaleFiltersModel(),t=this.getPriceRangeFilterModel();void 0==g&&(g=null);var u=a(".sortOptionsDropDown").val()||0,v=m(),w=a(".productsPageSizeDropDown").val()||0,x=b.getUrlVar("pageNumber");void 0==x||null!=g||void 0!=i&&i!==!1||(g=x),void 0==j&&(j=!1);var y={categoryId:this.categoryId,manufacturerId:this.manufacturerId,vendorId:this.vendorId,priceRangeFilterModel7Spikes:t,specificationFiltersModel7Spikes:o,attributeFiltersModel7Spikes:p,manufacturerFiltersModel7Spikes:q,vendorFiltersModel7Spikes:r,pageNumber:g,orderby:u,viewmode:v,pagesize:w,queryString:h,shouldNotStartFromFirstPage:j,onSaleFilterModel:s,keyword:this.keyword,searchCategoryId:this.searchCategoryId,searchManufacturerId:this.searchManufacturerId,searchVendorId:this.searchVendorId,priceFrom:this.priceFrom,priceTo:this.priceTo,includeSubcategories:this.includeSubcategories,searchInProductDescriptions:this.searchInProductDescriptions,advancedSearch:this.advancedSearch,isOnSearchPage:this.isOnSearchPage};this.isProductRefreshTriggeredByScroll||this.showProductPanelAjaxBusy();var z=this,A=this.getFilteredProductsUrl;c.waitForAjaxRequest=!0,a.ajax({cache:!1,type:"POST",data:a.toJSON(y),contentType:"application/json; charset=utf-8",url:A}).done(function(b){""!==h&&(z.changeViewModeOrderByAndPageSize(b),z.setPriceRangeValues(b));var d=z.refreshProducts(b,z.isProductRefreshTriggeredByScroll);if(!d)return void(c.waitForAjaxRequest=!1);if(z.refreshFilters(b),z.refreshProductsPager(b),z.refreshClearButtons(),"NO HASH QUERY"!==h){z.expandFilterPanelsWithSelectedOptions();var e=a(b).filter("#urlHashQuery").val().toString();""!==e?(z.isProductRefreshTriggeredByScroll&&(e=e.slice(0,e.indexOf("&pageNumber"))),a.address.value(e)):a.address.value("noFilterApplied")}z.hideProductPanelAjaxBusy(),c.waitForAjaxRequest=!1;var f=a(".nopAjaxFilters7Spikes").attr("data-scrollToElement");if(!z.isProductRefreshTriggeredByScroll&&void 0!=f&&"true"===f.toLowerCase()){var g=a(".nopAjaxFilters7Spikes").attr("data-scrollToElementSelector"),i=g.split(","),j=".product-selectors";if(void 0!=i&&i.length>0){for(var m=0;m<i.length;m++)if(a(i[m].trim()).length>0){j=i[m].trim();break}a(j).length>0&&a("html, body").animate({scrollTop:a(j).offset().top},"slow")}}a(".productPanelAjaxBusy").length<1&&z.addProductPanelAjaxBusyToPage();var n=a(b).filter("#totalCount").val().toString();if(a.event.trigger({type:"nopAjaxFiltersFiltrationCompleteEvent",totalCount:n}),"true"===a(".nopAjaxFilters7Spikes").attr("data-showSelectedFiltersPanel").toLowerCase()&&k(),"true"!==a(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&"false"!==a(".nopAjaxFilters7Spikes").attr("data-numberofreturnedproductsselector").toLowerCase()){var o=w;a(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel)").length>0?o=a(".page-body .product-grid:not(.featured-product-grid, .nop-jcarousel) .item-box").length:a(".page-body .product-list").length>0&&(o=a(".page-body .product-list .item-box").length),l(o,n)}}).fail(function(){z.hideProductPanelAjaxBusy(),alert("Loading the page failed."),c.waitForAjaxRequest=!1}).always(function(){z.isProductRefreshTriggeredByScroll=!1,e()&&a.address.history(!1)})}}function o(){a(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var b=a(this),c=!0;b.find("[data-option-ids]").each(function(){if(!a(this).is(":disabled"))return c=!1,!1}),c?b.find("select").attr("disabled","disabled"):b.find("select").removeAttr("disabled"),b.toggleClass("disabled",c)})}function p(b){var c=this,d=a(b).filter("#specificationFilterModel7SpikesJson").val().toString(),e=a.parseJSON(d);c.refreshSpecificationFilters(e,c.filtersUIMode);var f=a(b).filter("#attributeFilterModel7SpikesJson").val().toString(),g=a.parseJSON(f);c.refreshAttributeFilters(g,c.filtersUIMode);var h=a(b).filter("#manufacturerFilterModel7SpikesJson").val().toString(),i=a.parseJSON(h);c.refreshManufacturerFilters(i,c.filtersUIMode);var j=a(b).filter("#vendorFilterModel7SpikesJson").val().toString(),k=a.parseJSON(j);c.refreshVendorFilters(k,c.filtersUIMode);var l=a(b).filter("#onSaleFilterModel7SpikesJson").val().toString(),m=a.parseJSON(l);c.refreshOnSaleFilters(m,c.filtersUIMode),o()}function q(b){var c=this,d=a(b).filter("#priceRangeFromJson").val().toString(),e=a.parseJSON(d),f=a(b).filter("#priceRangeToJson").val().toString(),g=a.parseJSON(f);void 0!=c.SetSliderValues&&c.SetSliderValues(e,g)}function r(b){var c=a(b.currentTarget).attr("data-pageNumber");null!=b.data&&void 0!=b.data.filtersManager&&b.data.filtersManager.requestProductsForSelectedFilters(void 0,void 0,c,void 0,void 0,!0)}function s(){var a=this.buildSpecificationFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement);return a}function t(){var a=this.buildAttributeFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement);return a}function u(){var a=this.buildManufacturerFiltersModel(this.categoryId,this.selectedFilterGroupElement);return a}function v(){var a=this.buildVendorFiltersModel(this.categoryId,this.selectedFilterGroupElement);return a}function w(){var a=this.buildOnSaleFiltersModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement);return a}function x(){var a=null;return void 0!=this.buildPriceRangeFilterModel&&(a=this.buildPriceRangeFilterModel(this.categoryId,this.manufacturerId,this.vendorId,this.selectedFilterGroupElement)),a}function y(b,c){var g,d=m()||a(".nopAjaxFilters7Spikes").attr("data-defaultViewMode"),e=this.getProductsPanelSelector(d),f=a("."+i);if(null!=a(b).filter(e).html()){if(f.length>1&&(f=f.last()),c){var h=a(b).filter(e),j=h.find(".item-box");h.hasClass("product-grid")?f.hasClass("product-list")&&f.removeClass("product-list").addClass("product-grid"):f.hasClass("product-grid")&&f.removeClass("product-grid").addClass("product-list"),a(".infinite-scroll-loader").hide(),f.find(".item-box").last().after(j)}else f.replaceWith(a(b).filter(e));g=!0}else this.hideProductPanelAjaxBusy(),a("#nopAjaxFiltersNoProductsDialog").length>0?this.showNoProductsModalDialog():(f.prepend(a(b).filter("#nopAjaxFiltersNoProductsDialog")),this.showNoProductsModalDialog()),g=!1;return g}function z(b){return"list"===b?a(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector")||".product-list":a(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")||".product-grid"}function A(){return a(".nopAjaxFilters7Spikes").attr("data-pagerPanelSelector")||".pager"}function B(){var b=a(".nopAjaxFilters7Spikes").attr("data-productsGridPanelSelector")+","+a(".nopAjaxFilters7Spikes").attr("data-ProductsListPanelSelector"),c=a(".master-wrapper-page "+b).not(".featured-product-grid, .nop-jcarousel").last();return c}function C(b){var c=this.getPagerPanelSelector(),d=a(c);if(void 0!==b){var e=a(b).filter(c);if(0===d.length&&e.length>0){var f=a(".nopAjaxFilters7Spikes").attr("data-pagerpanelintegrationselector")||".product-grid, .product-list",g=a(f);g.length>0&&(g.hasClass("product-grid")||g.hasClass("product-list"))&&(g=g.not(".featured-product-grid, .nop-jcarousel").last()),0===g.length&&(g=B()),g.after('<div class="pager"></div>'),d=a(c)}"true"===a(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&d.hide(),d.html(e.html()),d.length>0&&0===e.length&&d.remove()}this.setPagerLinks(d)}function D(b){var c=this;b.find("a").each(function(){var b=a(this).attr("href"),d="";if(void 0!=b){var e=/pagenumber=(\d+)/;b=b.toLowerCase();var f=e.exec(b);null!=f&&f.length>1&&(d=f[1])}a(this).removeAttr("href"),a(this).attr("data-pageNumber",d),a(this).click({filtersManager:c},r)})}function E(b){var c=a(b).filter("#currentPageSizeJson").val(),d=a.parseJSON(c),e=a(b).filter("#currentOrderByJson").val(),g=a.parseJSON(e),i=a(b).filter("#currentViewModeJson").val(),j=a.parseJSON(i);f(".sortOptionsDropDown",g),f(".viewOptionsDropDown",j),f(".productsPageSizeDropDown",d),a(h()).removeClass("selected").filter("."+j).addClass("selected")}function F(b){var c=a(b.currentTarget).closest(".filtersGroupPanel");this.clearFilterOptionsForFiltersGroupElement(c)}function G(b){var c=a(b.currentTarget),d=c.parent().siblings(".filtersGroupPanel"),e=b.data.filtersManager;e.clearFilterOptionsForFiltersGroupElement(d)}function H(a){a.find("[data-option-ids]").removeAttr("checked selected");var b=a.find(".select-wrap");b.length>0&&b.find(".select-inner").text(b.find("select option:selected").text()),this.requestProductsForSelectedFilters(a,void 0)}function I(b){a(".nopAjaxFilters7Spikes .filtersGroupPanel").find("[data-option-ids]").removeAttr("checked selected"),a(".nopAjaxFilters7Spikes .select-wrap").each(function(){var b=a(this);b.find(".select-inner").text(b.find("select option:selected").text())});var c=b.data.filtersManager;c.clearPriceRangeFilterControl(),c.requestProductsForSelectedFilters()}function J(){var b=!1;a(".nopAjaxFilters7Spikes .filtersGroupPanel").each(function(){var c=a(this),d=!1;c.find("[data-option-ids]").each(function(){var b=a(this);if(null!=(b.attr("selected")||b.attr("checked")))return d=!0,!1});var e=c.parent().find("a.clearFilterOptions");d?(e.show(),b=!0):e.hide()});var c=a(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(b)c.show();else{var d=!1;void 0!=this.determineIfPriceRangeHasBeenSelected&&(d=this.determineIfPriceRangeHasBeenSelected()),d?c.show():c.hide()}}function K(){a(".clearPriceRangeFilter, .clearFilterOptions").filter(":visible").siblings("a.toggleControl.closed").click()}function L(){var b=a(".pager .next-page > a").first();if(0===b.length)return void a(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll");var d=B();if(0!==d.length){var e=a(window).outerHeight(),f=a(window).scrollTop(),g=d.innerHeight(),h=d.offset().top;if(e+f>g+h){a(".infinite-scroll-loader").show();var i=new c,j=parseInt(b.attr("data-pageNumber"));i.requestProductsForSelectedFilters(void 0,void 0,j,void 0,void 0,!0,!0)}}}function M(){if(0===a(".infinite-scroll-loader").length){var b=a(".ajaxBusyPanelParent");0===b.length&&(b=B()),b.append('<div class="infinite-scroll-loader">'+a(".nopAjaxFilters7Spikes").attr("data-infinitescrollloadertext")+"</div>")}}function N(){M(),a(".product-page-size, "+a(".nopAjaxFilters7Spikes").attr("data-pagerpanelselector")).hide(),a(".product-selectors").addClass("infinite-scroll-enabled");var b=function(){a(window).off("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll").on("scroll.filtersinfinitescroll resize.filtersinfinitescroll orientationchange.filtersinfinitescroll",function(){L()}),L()};a(document).on("nopAjaxFiltersFiltrationCompleteEvent",b),window.location.hash&&"#/noFilterApplied"!==window.location.hash||b()}function O(){a(".filtersGroupSearchInput").on("keyup",function(){var b=a(this).val().toLowerCase(),c=a(this).parent(),d=c.next(".checkbox-list").children();""===b?d.each(function(){var b=a(this),c=b.find("label"),d=c.data("originaltext");c.html(d),b.show()}):d.each(function(){var c=a(this),d=c.find("label"),e=d.data("originaltext"),f=e.toLowerCase().indexOf(b);if(f!==-1){var g=e.substring(f,f+b.length);if(0===f){var h=e.substring(g.length);d.html("<strong>"+g+"</strong>"+h)}else if(f>0){var i=e.slice(0,f),j=e.slice(f+b.length);d.html(i+"<strong>"+g+"</strong>"+j)}c.show()}else c.hide()})})}function P(){var b=a(".nopAjaxFilters7Spikes").attr("data-sortOptionsDropDownSelector")||".products-orderby";return g(b)}function Q(){var b=a(".nopAjaxFilters7Spikes").attr("data-productsPageSizeDropDownSelector")||".products-pagesize";return g(b)}function R(b,d){f(".sortOptionsDropDown",b),d&&(e()&&a.address.history(!0),(new c).requestProductsForSelectedFilters())}function S(a,b){f(".viewOptionsDropDown",a),b&&(new c).requestProductsForSelectedFilters(void 0,void 0,void 0,void 0,void 0,!0)}function T(a,b){f(".productsPageSizeDropDown",a),b&&(new c).requestProductsForSelectedFilters()}function U(b,c){b.each(function(){var b="",d=a(c).val(),e=a.parseJSON(d);if(!a(this).is("select")){var f=".";return null!=e[0]&&e[0].Selected?f+=e[0].Value.toLowerCase():null!=e[1]&&e[1].Selected&&(f+=e[1].Value.toLowerCase()),void a(h()).removeClass("selected").filter(f).addClass("selected")}for(var g=0;g<e.length;g++){var i=e[g],j="<option ";i.Disabled&&(j+='disabled="disabled" '),i.Selected&&(j+='selected="selected" '),j+='value="'+i.Value+'">',j+=i.Text+"</option>",b+=j}a(this).html(b)})}function V(){var b=a(P());0!==b.length&&(b.addClass("sortOptionsDropDown").removeAttr("onchange").off("change").on("change",function(b){b.preventDefault();var c=a(this),d=null==c.attr("valueChangedByScript");c.removeAttr("valueChangedByScript"),R(c.val(),d)}),U(b,"#availableSortOptionsJson"))}function W(){var b=a(h());if(0!==b.length){var c=b.is("select");c?b.addClass("viewOptionsDropDown").removeAttr("onchange").off("change").on("change",function(b){b.preventDefault();var c=a(this),d=null==c.attr("valueChangedByScript");c.removeAttr("valueChangedByScript"),S(c.val(),d)}):(b.filter(".grid").attr("data-dropdownoptionvalue","grid"),b.filter(".list").attr("data-dropdownoptionvalue","list"),b.on("click",function(c){c.preventDefault(),a(this).hasClass("selected")||(b.removeClass("selected"),a(this).addClass("selected"),S(a(this).attr("data-dropdownoptionvalue"),!0))})),U(b,"#availableViewModesJson")}}function X(){var b=a(Q());0!==b.length&&(b.addClass("productsPageSizeDropDown").removeAttr("onchange").off("change").on("change",function(b){b.preventDefault();var c=a(this),d=null==c.attr("valueChangedByScript");c.removeAttr("valueChangedByScript"),T(c.val(),d)}),U(b,"#availablePageSizesJson"))}function Y(){V(),W(),X(),a(document).trigger({type:"ajaxFiltersReplacedDropDownsEvent"})}var d={UNCHECKED:0,CHECKED:1,CHECKEDDISABLED:2,DISABLED:3},i="nop7SpikesAjaxFiltersGrid";a.fn.extend({anchorCustomClick:function(b){return a(this).first().on("click",function(c){c.preventDefault(),a(b).trigger("click")})}}),c.prototype.requestProductsForSelectedFilters=n,c.prototype.getSpecificationFiltersModel=s,c.prototype.getAttributeFiltersModel=t,c.prototype.getManufacturerFiltersModel=u,c.prototype.getVendorFiltersModel=v,c.prototype.getOnSaleFiltersModel=w,c.prototype.getPriceRangeFilterModel=x,c.prototype.refreshProducts=y,c.prototype.refreshProductsPager=C,c.prototype.setPagerLinks=D,c.prototype.getProductsPanelSelector=z,c.prototype.getPagerPanelSelector=A,c.prototype.clearFilterOptions=G,c.prototype.clearFilterOptionsForFiltersGroupElement=H,c.prototype.selectAllFilterDropDownOption=F,c.prototype.clearAllFilterOptions=I,c.prototype.refreshClearButtons=J,c.prototype.expandFilterPanelsWithSelectedOptions=K,c.prototype.changeViewModeOrderByAndPageSize=E,c.prototype.setPriceRangeValues=q,c.prototype.refreshFilters=p,c.prototype.clearPriceRangeFilterControl=function(){},c.prototype.refreshManufacturerFilters=function(){},c.prototype.refreshVendorFilters=function(){},c.prototype.refreshSpecificationFilters=function(){},c.prototype.refreshAttributeFilters=function(){},c.prototype.refreshOnSaleFilters=function(){},c.prototype.buildManufacturerFiltersModel=function(){},c.prototype.buildVendorFiltersModel=function(){},c.prototype.buildSpecificationFiltersModel=function(){},c.prototype.buildAttributeFiltersModel=function(){},c.prototype.buildOnSaleFiltersModel=function(){},c.prototype.addProductPanelAjaxBusyToPage=function(){var b=B();b.addClass("ajaxBusyPanelParent "+i),b.css("position","relative"),b.append(a('<div class="productPanelAjaxBusy"></div><div class="clear"></div>')),a(".productPanelAjaxBusy").hide(),M()},c.prototype.setSpecificationFilterSelection=function(a,b){this.selectedFilterGroupElement=a,this.selectedFilterOptionElement=b},c.prototype.showNoProductsModalDialog=function(){var b=a("#nopAjaxFiltersNoProductsDialog").data("kendoWindow"),c=a("#nopAjaxFiltersNoProductsDialog").attr("title");c||(c="NO RESULTS FOUND"),b||(b=a("#nopAjaxFiltersNoProductsDialog").kendoWindow({draggable:!1,resizable:!1,width:"300px",height:"100px",title:c,modal:!0,actions:["Close"],animation:!1,visible:!1}).data("kendoWindow"),b.wrapper.addClass("ajaxFilters")),b.center(),b.open(),a(document).on("click",".k-overlay",function(){b.close()})},c.prototype.showProductPanelAjaxBusy=function(){a(".productPanelAjaxBusy").show()},c.prototype.hideProductPanelAjaxBusy=function(){a(".productPanelAjaxBusy").hide()},c.getFilterItemStateBasedOnAttributes=function(a){var b=null!=(a.attr("selected")||a.attr("checked")),c=null!=a.attr("disabled");return b&&c?"CheckedDisabled":b&&!c?"Checked":!b&&c?"Disabled":"Unchecked"},c.waitForAjaxRequest=!1,c.addStateClassToCheckBoxParent=function(a,b){var c=a.parent("li");0!==c.length&&(b!==d.CHECKED&&b!==d.CHECKEDDISABLED||(c.addClass("checked"),b===d.CHECKED&&c.removeClass("disabled")),b!==d.CHECKEDDISABLED&&b!==d.DISABLED||c.addClass("disabled"),b===d.UNCHECKED&&c.removeClass("checked disabled"))},c.addStateAttributesToOption=function(a,b,c){b!==d.CHECKED&&b!==d.CHECKEDDISABLED||(c?a.attr("selected","selected").trigger("change"):a.attr("checked","checked"),b===d.CHECKED&&a.removeAttr("disabled")),b!==d.CHECKEDDISABLED&&b!==d.DISABLED||a.attr("disabled","disabled"),b===d.UNCHECKED&&a.removeAttr("checked selected disabled")},c.addStateClassAndAttributesToOption=function(a,b,e){var f=!1;return b===d.CHECKED&&(f=!0),e||c.addStateClassToCheckBoxParent(a,b),c.addStateAttributesToOption(a,b,e),f},a(document).ready(function(){var b=new c;b.addProductPanelAjaxBusyToPage(),a(".nopAjaxFilters7Spikes .block .title a.toggleControl").off("click").on("click",function(){j(a(this))}),a(".nopAjaxFilters7Spikes .block .title a.clearFilterOptions").each(function(){a(this).click({filtersManager:b},b.clearFilterOptions),a(this).hide()}),a(".nopAjaxFilters7Spikes .filtersDropDown a.allFilterDropDownOptions").each(function(){a(this).click({filtersManager:b},b.selectAllFilterDropDownOption)});var d=a(".nopAjaxFilters7Spikes .filtersTitlePanel a.clearFilterOptionsAll");if(d.click({filtersManager:b},b.clearAllFilterOptions),d.hide(),b.refreshProductsPager(),b.filtersUIMode===b.filtersUIModeEnum.useDropDowns){var e=a(".filtersDropDownPanel.filtersGroupPanel"),f=e.length+100;e.each(function(){a(this).css("z-index",f--)})}"true"===a(".nopAjaxFilters7Spikes").attr("data-enableinfinitescroll").toLowerCase()&&N(),O(),null==a("body").attr("nosimpleselect")&&a(".filtersPanel select").simpleSelect()}),a(window).unload(function(){e()&&a.address.history(!0)}),a(document).ready(function(){Y(),e()&&a.address.history(!1)})}(jQuery,sevenSpikes,FiltersManager);